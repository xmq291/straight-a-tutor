(function(){window.wyzant=window.wyzant||{};window.wyzant.logging=window.wyzant.logging||{};var g=window.wyzant.logging;g.loggerUtils=function(g){g=g||{};var f={url:!1,host:"api.wyzant.com",eventfulHostPath:"/v100/eventful",applicationLogsHostPath:"/v100/applicationlogs",machineName:"NOT SET",httpUser:"NOT SET",applicationName:"NOT SET",useSSL:!0},h=function(d,a,b,e){if(d=k("post",(f.useSSL?"https://":"http://")+f.host+d,b,e))return"string"!==typeof a&&(a=JSON?JSON.stringify(a):a),"function"===typeof d.setRequestHeader&&
d.setRequestHeader("Content-type","application/json"),"function"!==typeof d.send&&"object"!==typeof d.send||d.send(a),d.type&&"text/javascript"===d.type?(d.src=""+d.src+"?"+a,a=document.getElementsByTagName("body")[0],a.appendChild(d),a=a.removeChild(d)):a=void 0,a},k=function(d,a,b,e){var c=new XMLHttpRequest,f=function(){};b=b||f;e=e||f;"withCredentials"in c?(c.open(d,a,!0),c.onerror=e,c.onreadystatechange=function(){4===c.readyState&&(200<=c.status&&400>c.status?b(c.responseText):e(Error("createCORSRequest: Response returned with non-OK status")))}):
"undefined"!=typeof XDomainRequest?(c=new XDomainRequest,c.open(d,a),c.onerror=e,c.onload=function(){b(c.responseText)}):(c=null,e(Error("createCORSRequest: CORS not supported")));return c};this.logApplicationLogItem=function(d,a,b,e){if(!navigator.userAgent.match(/MSIE [789]\.0/))return h(f.applicationLogsHostPath,{ApplicationLogLevel:d,Message:a,MachineName:f.machineName,HttpUser:f.httpUser,ApplicationName:f.applicationName},b,e)};this.logEvent=function(d,a,b,e,c){if(!navigator.userAgent.match(/MSIE [789]\.0/)){b=
b||{};var g=document.location.href.split("?");b.HttpPage=b.HttpPage||g[0];b.HttpQueryString=b.HttpQueryString||g[1]?g[1]:"";b.ClientSide_Document_Location_Href=b.ClientSide_Document_Location_Href||document.location.href;b.HttpUserAgent=b.HttpUserAgent||navigator.userAgent;b.HttpUrlReferrer=b.HttpUrlReferrer||document.referrer;b.ClientSide_Domain=b.ClientSide_Domain||document.domain;b.ApplicationName=f.applicationName;b.HttpUser=f.httpUser;b.MachineName=f.machineName;return h(f.eventfulHostPath,{EventfulGroup:d,
Message:a,Payload:b,DeleteAfter:null},e,c)}};(function(d){for(var a in d)f[a]=d[a]})(g)};g.init=function(l,f,h,k,d){new g.loggerUtils({host:l,applicationName:k,httpUser:h,machineName:f,useSSL:d});g.appLogger=g.appLogger||new function(){var a=this;a.loggerUtils=null;a.getLogger=function(){a.loggerUtils=a.loggerUtils||new g.loggerUtils({host:l,applicationName:k,httpUser:h,machineName:f});return a.loggerUtils};a.trace=function(b,e,c){a.getLogger().logApplicationLogItem("TRACE",b,e,c)};a.debug=function(b,
e,c){a.getLogger().logApplicationLogItem("DEBUG",b,e,c)};a.info=function(b,e,c){a.getLogger().logApplicationLogItem("INFO",b,e,c)};a.warn=function(b,e,c){a.getLogger().logApplicationLogItem("WARN",b,e,c)};a.error=function(b,e,c){a.getLogger().logApplicationLogItem("ERROR",b,e,c)};a.fatal=function(b,e,c){a.getLogger().logApplicationLogItem("FATAL",b,e,c)}};g.eLogger=g.eLogger||new function(){var a=this;a.loggerUtils=null;a.getLogger=function(){a.loggerUtils=a.loggerUtils||new g.loggerUtils({host:l,
applicationName:k,httpUser:h,machineName:f});return a.loggerUtils};a.logEvent=function(b,e,c,d,f){a.getLogger().logEvent(b,e,c,d,f)}}}}).call(this);
